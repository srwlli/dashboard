{
  "workorder_id": "WO-STUB-SCHEMA-001",
  "stub_id": null,
  "feature_name": "stub-schema-integration",
  "created": "2025-12-29",
  "target_project": "coderef-dashboard",
  "description": "Integrate canonical stub-schema.json from orchestrator into dashboard validation logic",
  "goal": "Eliminate schema drift between orchestrator and dashboard by using shared canonical schema",
  "requirements": [
    "Dashboard reads stub-schema.json from orchestrator (C:\\Users\\willh\\Desktop\\assistant\\stub-schema.json)",
    "Update assistant route validation to use canonical schema instead of hardcoded fields",
    "Validation should reference schema's 'required' array for field checking",
    "Preserve existing validation error messages and formatting",
    "Add schema version checking (optional: warn if schema version changes)",
    "Test with existing 64 stubs (all should pass validation after backfill)"
  ],
  "constraints": [
    "Do not modify orchestrator's stub-schema.json file",
    "Maintain backward compatibility with existing stub.json files",
    "Dashboard should gracefully handle missing schema file (fallback to current validation)",
    "No breaking changes to dashboard UI or API"
  ],
  "technical_context": {
    "schema_location": "C:\\Users\\willh\\Desktop\\assistant\\stub-schema.json",
    "dashboard_validation_file": "Likely in src/routes/assistant/ or src/lib/validation/",
    "current_required_fields": [
      "feature_name",
      "description",
      "category",
      "priority",
      "status",
      "created"
    ],
    "schema_format": "JSON Schema draft-07"
  },
  "success_criteria": [
    "Dashboard loads all 64 stubs without validation errors",
    "Console shows no warnings about missing fields",
    "Validation logic references stub-schema.json",
    "Schema changes in orchestrator automatically propagate to dashboard",
    "No manual sync required between orchestrator and dashboard"
  ],
  "related_files": [
    "C:\\Users\\willh\\Desktop\\assistant\\stub-schema.json",
    "C:\\Users\\willh\\Desktop\\assistant\\validate-stubs.py",
    "C:\\Users\\willh\\Desktop\\assistant\\CLAUDE.md (Schema documentation)"
  ],
  "workorder_type": "delegated",
  "priority": "high",
  "estimated_effort": "1-2 hours"
}
